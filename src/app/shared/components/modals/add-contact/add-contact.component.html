<div class="modal-overlay" (click)="closeModal()">
    <dialog class="add-contact-modal-container" [@slideInOut]="isOpen ? 'open' : 'closed'"
        (click)="$event.stopPropagation()">
        <header class="contact-modal-header">
            <img src="assets/Icons/contact/JoinLogoWhite.png" alt="">
            <div class="add-contact-header">
                <h1 id="add-contact-headline">{{ headlineTxt() }} Contact</h1>
                <h2>Tasks are better with a team!</h2>
                <hr>
            </div>
        </header>
        <main>
            <form (ngSubmit)="submitForm()">
                @if (headlineTxt() == 'Add') {
                    <img class="edit-contact-mobile-icon" src="assets/Icons/contact/contact_icon_grey.png">
                } @else {
                    <app-contact-icon class="edit-contact-mobile-icon {{ contact().iconColor }}" [contact]="contact()"></app-contact-icon>
                }
                <div class="form-main-container">
                    <div class="icon-area">
                        @if (headlineTxt() == 'Add') {
                        <img class="edit-contact-icon" src="assets/Icons/contact/contact_icon_grey.png">
                        } @else {
                        <app-contact-icon class="edit-contact-icon {{ contact().iconColor }}" [contact]="contact()"></app-contact-icon>
                        }
                    </div>
                    <div class="input-area">
                        <div class="input-container firstname-input-container">
                            <div class="input-img-container">
                                <input name="firstname" type="text" placeholder="firstname"
                                    [(ngModel)]="editContact.firstname" (keyup)="vds.validate(ValidationFields.FIRSTNAME, editContact.firstname)"
                                    (focus)="focusOnInput(ValidationFields.FIRSTNAME)" autocomplete="off">
                                <img src="assets/Icons/contact/person.png">
                            </div>
                            <span id="error-firstname" class="error">{{ems.firstnameErrorMsg()}}</span>
                        </div>

                        <div class="input-container lastname-input-container">
                            <div class="input-img-container">
                                <input name="lastname" type="text" placeholder="lastname"
                                    [(ngModel)]="editContact.lastname" (keyup)="vds.validate(ValidationFields.LASTNAME, editContact.lastname)"
                                    (focus)="focusOnInput(ValidationFields.LASTNAME)" autocomplete="off">
                                <img src="assets/Icons/contact/person.png">
                            </div>
                            <span id="error-lastname" class="error">{{ems.lastnameErrorMsg()}}</span>
                        </div>

                        <div class="input-container email-input-container">
                            <div class="input-img-container">
                                <input name="email" type="email" placeholder="email"
                                    [(ngModel)]="editContact.email" (keyup)="vds.validate(ValidationFields.EMAIL, editContact.email)"
                                    (focus)="focusOnInput(ValidationFields.EMAIL)" autocomplete="off">
                                <img src="assets/Icons/contact/mail.png">
                            </div>
                            <span id="error-email" class="error">{{ems.emailErrorMsg()}}</span>
                        </div>

                        <div class="input-container phone-input-container">
                            <div class="input-img-container">
                                <input name="tel" type="text" placeholder="phonenumber"
                                    [(ngModel)]="editContact.tel" (keyup)="vds.validate(ValidationFields.PHONE, editContact.tel)"
                                    (focus)="focusOnInput(ValidationFields.PHONE)" autocomplete="off">
                                <img src="assets/Icons/contact/call.png">
                            </div>
                            <span id="error-phone" class="error">{{ems.phoneErrorMsg()}}</span>
                        </div>
                    </div>
                </div>

                <div class="form-button-container">
                    @if(headlineTxt() == 'Add') {
                        <input id="add-contact-cancel-btn" class="btn-default" type="button" (click)="closeModal()"
                            value="Cancel X">
                    } @else if(headlineTxt() == 'Edit') {
                        <input class="btn-default" type="button" (click)="deleteContact()" value="Delete">
                    }
                    <input class="btn-set sub-btn" type="submit" value="{{ submitBtnTxt() }}">
                </div>
            </form>
            <div class="icon-area-mobile">
                @if (headlineTxt() == 'Add') {
                    <img src="assets/Icons/contact/contact_icon_grey.png">
                } @else {
                    <app-contact-icon class="{{ contact().iconColor }}" [contact]="contact()"></app-contact-icon>
                }
            </div>
        </main>
        <button class="close" type="button" (click)="closeModal()">X</button>
    </dialog>
</div>